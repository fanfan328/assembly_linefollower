IR1 BIT P0.0
IR2 BIT P0.1
IR3 BIT P0.2
IR4 BIT P0.3

ORG 0H

MOV P0, #11111111B ;sensor
MOV P1, #11000000B ;motor

MAIN0:
JNB P1.7, MAIN
SJMP MAIN0

MAIN:
JB IR1, IR2_1
JNB IR1, IR2_2
	
IR2_1:
JB IR2, IR3_1
JNB IR2, KIRI
	
IR2_2:
JB IR2, IR3_2
JNB IR2, IR3_3

IR3_1:
JB IR3, IR4_1
JNB IR3, KIRI

IR3_2:
JB IR3, IR4_2
JNB IR3, IR4_3

IR3_3:
JB IR3, KANAN
JNB IR3, IR4_4

IR4_1:
JB IR4, BERENTI
JNB IR4, KIRI

IR4_2:
JB IR4, KANAN
JNB IR4, LURUS

IR4_3:
JB IR4, KANAN
JNB IR4, KIRI

IR4_4:
JB IR4, KANAN
JNB IR4, LURUS

KANAN:
MOV P1, #00110010B
LJMP MAIN

KIRI:
MOV P1, #00111000B
LJMP MAIN

LURUS:
MOV P1, #00111010B
LJMP MAIN

BERENTI:
MOV P1, #00110000B
LJMP MAIN

END
